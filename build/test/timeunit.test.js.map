{"version":3,"file":"timeunit.test.js","sourceRoot":"","sources":["../../test/timeunit.test.ts"],"names":[],"mappings":"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","sourcesContent":["import {assert} from 'chai';\nimport {containsTimeUnit, convert, fieldExpr, formatExpression, TimeUnit} from '../src/timeunit';\n\n\ndescribe('timeUnit', () => {\n  describe('containsTimeUnit', function () {\n    it('should return true for quarter given quarter', function() {\n      const fullTimeUnit = TimeUnit.QUARTER;\n      const timeUnit = TimeUnit.QUARTER;\n      assert.equal(containsTimeUnit(fullTimeUnit, timeUnit), true);\n    });\n\n    it('should return true for yearquarter given quarter', function() {\n      const fullTimeUnit = TimeUnit.YEARQUARTER;\n      const timeUnit = TimeUnit.QUARTER;\n      assert.equal(containsTimeUnit(fullTimeUnit, timeUnit), true);\n    });\n\n    it('should return true for SECONDS and MILLISECONDS given SECONDSMILLISECONDS', function() {\n      const fullTimeUnit = TimeUnit.SECONDSMILLISECONDS;\n      const timeUnit = TimeUnit.SECONDS;\n      assert.equal(containsTimeUnit(fullTimeUnit, timeUnit), true);\n    });\n\n    it('should return true for MILLISECONDS given SECONDSMILLISECONDS', function() {\n      const fullTimeUnit = TimeUnit.SECONDSMILLISECONDS;\n      const timeUnit = TimeUnit.MILLISECONDS;\n      assert.equal(containsTimeUnit(fullTimeUnit, timeUnit), true);\n    });\n\n    it('should return false for quarter given year', function() {\n      const fullTimeUnit = TimeUnit.YEAR;\n      const timeUnit = TimeUnit.QUARTER;\n      assert.equal(containsTimeUnit(fullTimeUnit, timeUnit), false);\n    });\n\n    it('should return false for SECONDS given MILLISECONDS', function() {\n      const fullTimeUnit = TimeUnit.MILLISECONDS;\n      const timeUnit = TimeUnit.SECONDS;\n      assert.equal(containsTimeUnit(fullTimeUnit, timeUnit), false);\n    });\n  });\n\n  describe('fieldExpr', () => {\n    it('should return correct field expression for YEARMONTHDATEHOURSMINUTESSECONDS', () => {\n      assert.equal(\n        fieldExpr(TimeUnit.YEARMONTHDATEHOURSMINUTESSECONDS, 'x'),\n        'datetime(year(datum[\"x\"]), month(datum[\"x\"]), date(datum[\"x\"]), hours(datum[\"x\"]), minutes(datum[\"x\"]), seconds(datum[\"x\"]), 0)'\n      );\n    });\n\n    it('should return correct field expression for QUARTER', () => {\n      assert.equal(\n        fieldExpr(TimeUnit.QUARTER, 'x'),\n        'datetime(0, (quarter(datum[\"x\"])-1)*3, 1, 0, 0, 0, 0)'\n      );\n    });\n\n    it('should return correct field expression for DAY', () => {\n      assert.equal(\n        fieldExpr(TimeUnit.DAY, 'x'),\n        'datetime(2006, 0, day(datum[\"x\"])+1, 0, 0, 0, 0)'\n      );\n    });\n\n    it('should return correct field expression for MILLISECONDS', () => {\n      assert.equal(\n        fieldExpr(TimeUnit.MILLISECONDS, 'x'),\n        'datetime(0, 0, 1, 0, 0, 0, milliseconds(datum[\"x\"]))'\n      );\n    });\n\n    it('should return correct field expression with utc for MILLISECONDS', () => {\n      assert.equal(\n        fieldExpr(TimeUnit.UTCQUARTER, 'x'),\n        'datetime(0, (utcquarter(datum[\"x\"])-1)*3, 1, 0, 0, 0, 0)'\n      );\n\n      assert.equal(\n        fieldExpr(TimeUnit.UTCMILLISECONDS, 'x'),\n        'datetime(0, 0, 1, 0, 0, 0, utcmilliseconds(datum[\"x\"]))'\n      );\n    });\n  });\n\n  describe('convert', function () {\n    it('should throw an error for the DAY timeunit', function() {\n      assert.throws(function() {\n        convert(TimeUnit.DAY, new Date(2000, 11, 2, 23, 59, 59, 999));\n      }, Error, 'Cannot convert to TimeUnits containing \\'day\\'');\n    });\n\n    it('should return expected result for YEARQUARTER', function() {\n      const date: Date = convert(TimeUnit.YEARQUARTER, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 9, 1, 0, 0, 0, 0).getTime());\n    });\n\n    it('should return expected result for UTCYEARQUARTER', function() {\n      const date: Date = convert(TimeUnit.UTCYEARQUARTER, new Date(Date.UTC(2000, 11, 2, 23, 59, 59, 999)));\n      assert.equal(date.getTime(), new Date(Date.UTC(2000, 9, 1, 0, 0, 0, 0)).getTime());\n    });\n\n    it('should return expected result for YEARQUARTERMONTH', function() {\n      const date: Date = convert(TimeUnit.YEARQUARTERMONTH, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 11, 1, 0, 0, 0, 0).getTime());\n    });\n\n    it('should return expected result for YEARMONTH', function() {\n      const date: Date = convert(TimeUnit.YEARMONTH, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 11, 1, 0, 0, 0, 0).getTime());\n    });\n\n    it('should return expected result for UTCYEARMONTH', function() {\n      const date: Date = convert(TimeUnit.UTCYEARMONTH, new Date(Date.UTC(2000, 11, 2, 23, 59, 59, 999)));\n      assert.equal(date.getTime(), new Date(Date.UTC(2000, 11, 1, 0, 0, 0, 0)).getTime());\n    });\n\n\n    it('should return expected result for UTCYEARMONTH', function() {\n      const date: Date = convert(TimeUnit.UTCYEAR, new Date(Date.UTC(2000, 11, 2, 23, 59, 59, 999)));\n      assert.equal(date.getTime(), new Date(Date.UTC(2000, 0, 1, 0, 0, 0, 0)).getTime());\n    });\n\n    it('should return expected result for YEARMONTHDATE', function() {\n      const date: Date = convert(TimeUnit.YEARMONTHDATE, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 11, 2, 0, 0, 0, 0).getTime());\n    });\n\n    it('should return expected result for YEARMONTHDATEHOURS', function() {\n      const date: Date = convert(TimeUnit.YEARMONTHDATEHOURS, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 11, 2, 23, 0, 0, 0).getTime());\n    });\n\n    it('should return expected result for YEARMONTHDATEHOURSMINUTES', function() {\n      const date: Date = convert(TimeUnit.YEARMONTHDATEHOURSMINUTES, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 11, 2, 23, 59, 0, 0).getTime());\n    });\n\n    it('should return expected result for YEARMONTHDATEHOURSMINUTESSECONDS', function() {\n      const date: Date = convert(TimeUnit.YEARMONTHDATEHOURSMINUTESSECONDS, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(2000, 11, 2, 23, 59, 59, 0).getTime());\n    });\n\n    it('should return expected result for QUARTERMONTH', function() {\n      const date: Date = convert(TimeUnit.QUARTERMONTH, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(1900, 11, 1, 0, 0, 0, 0).getTime());\n    });\n\n    it('should return expected result for HOURSMINUTES', function() {\n      const date: Date = convert(TimeUnit.HOURSMINUTES, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(1900, 0, 1, 23, 59, 0, 0).getTime());\n    });\n\n    it('should return expected result for HOURSMINUTESSECONDS', function() {\n      const date: Date = convert(TimeUnit.HOURSMINUTESSECONDS, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(1900, 0, 1, 23, 59, 59, 0).getTime());\n    });\n\n    it('should return expected result for MINUTESSECONDS', function() {\n      const date: Date = convert(TimeUnit.MINUTESSECONDS, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(1900, 0, 1, 0, 59, 59, 0).getTime());\n    });\n\n    it('should return expected result for SECONDSMILLISECONDS', function() {\n      const date: Date = convert(TimeUnit.SECONDSMILLISECONDS, new Date(2000, 11, 2, 23, 59, 59, 999));\n      assert.equal(date.getTime(), new Date(1900, 0, 1, 0, 0, 59, 999).getTime());\n    });\n  });\n\n  describe('template', () => {\n    it('should return correct template for YEARMONTHDATEHOURSMINUTESSECONDS', () => {\n      assert.equal(\n        formatExpression(TimeUnit.YEARMONTHDATEHOURSMINUTESSECONDS,'datum.x', undefined, false),\n        \"timeFormat(datum.x, '%b %d, %Y %H:%M:%S')\"\n      );\n    });\n\n    it('should return correct template for YEARMONTH (No comma)', () => {\n      assert.equal(\n        formatExpression(TimeUnit.YEARMONTH,'datum.x', undefined, false),\n        \"timeFormat(datum.x, '%b %Y')\"\n      );\n    });\n\n    it('should return correct template for DAY', () => {\n      assert.equal(\n        formatExpression(TimeUnit.DAY,'datum.x', undefined, false),\n        \"timeFormat(datum.x, '%A')\"\n      );\n    });\n\n    it('should return correct template for DAY (shortened)', () => {\n      assert.equal(\n        formatExpression(TimeUnit.DAY,'datum.x', true, false),\n        \"timeFormat(datum.x, '%a')\"\n      );\n    });\n\n    it('should return correct template for QUARTER', () => {\n      assert.equal(\n        formatExpression(TimeUnit.QUARTER,'datum.x', undefined, false),\n        \"'Q' + quarter(datum.x)\"\n      );\n    });\n\n    it('should return correct template for YEARQUARTER', () => {\n      assert.equal(\n        formatExpression(TimeUnit.YEARQUARTER,'datum.x', undefined, false),\n        \"'Q' + quarter(datum.x) + ' ' + timeFormat(datum.x, '%Y')\"\n      );\n    });\n\n    it('should return correct template for milliseconds', () => {\n      assert.equal(\n        formatExpression(TimeUnit.MILLISECONDS,'datum.x', undefined, false),\n        \"timeFormat(datum.x, '%L')\"\n      );\n    });\n\n    it('should return correct template for no timeUnit', () => {\n      assert.equal(\n        formatExpression(undefined,'datum.x', undefined, false),\n        undefined\n      );\n    });\n\n    it('should return correct template for YEARMONTH (No comma) with utc scale', () => {\n      assert.equal(\n        formatExpression(TimeUnit.YEARMONTH,'datum.x', undefined, true),\n        \"utcFormat(datum.x, '%b %Y')\"\n      );\n    });\n  });\n});\n"]}